/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package code;

import org.junit.Test;
import java.math.BigInteger;
import java.util.ArrayList;

import static org.hamcrest.CoreMatchers.is;
import static org.hamcrest.MatcherAssert.assertThat;

public class AppTest {

    @Test
    public void testCountMinUpdate(){

        //Create heavy hitter object
        NewHeavyHitters hh = new NewHeavyHitters(5);

        //Initialize 32 HH count mins
        hh.cms = new CountMinSketch[32];
        for(int i = 0; i<32; i++){
             hh.cms[i] = new CountMinSketch(20, 15, 1000003);
        }

        //Adds two items to every countMin in HH
        for(CountMinSketch cm : hh.cms){
            cm.add(0, 1);
        }

        //Update heavy hitter
        hh.update(0, 50);


        // Check values of heavy hitter count mins
        int index = 0;
        for(CountMinSketch cm : hh.cms){
            System.out.println("This is cm number " + index);
            System.out.println("Count of item 0 --> " + cm.estimateCount(0));
            index++;
        }



    }




}
